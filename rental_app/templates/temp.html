<!-- <!DOCTYPE html>
<html>
<body>

<h1>My First Google Map</h1>

<div id="googleMap" style="width:100%;height:400px;"></div>

<script>
function myMap() {
var mapProp= {
  center:new google.maps.LatLng(51.508742,-0.120850),
  zoom:5,
};
var map = new google.maps.Map(document.getElementById("googleMap"),mapProp);
}
</script>

<script src="https://maps.googleapis.com/maps/api/js?key=YOUR_KEY&callback=myMap"></script>

</body>
</html> -->
<input type="file"id="file_iimg" accept="*/image">

<script>


let imgae_file=document.querySelector("#file_iimg").addEventListener("change",(e)=>
    {

        length=e.target.files[0].name
        // console.log(length)

        file=e.target.files[0]
            image_instance=new FileReader
            image_instance.readAsDataURL(file)
            image_instance.onload = (e)=>
                {
                    image_url=e.target.result
                    image_instance.onload = (e)=>
                {
                    image_url=e.target.result
                    console.log("imp_url",image_url)
                }
                    image_instance=new FileReader
                    image_instance.readAsDataURL(file)


                    // console.log(image_url)
                    let arr=image_url.split(",")
                    let mime = arr[0].match(/:(.*?);/)[1]
                    let datafrom_img = arr[1]

                    // console.log("mine : ",mime)
                    console.log("data : ",datafrom_img)

                    // const data = JSON.stringify({
                    //   api_key: 'test_image_rapid',
                    //   base64_image: datafrom_img
                    // });

                    // const xhr = new XMLHttpRequest();
                    // xhr.withCredentials = true;

                    // xhr.addEventListener('readystatechange', function () {
                    //   if (this.readyState === this.DONE) {
                    //     console.log(this.responseText);
                    //   }
                    // });

                    // xhr.open('POST', 'https://nsfw-image-detector-or-classifier.p.rapidapi.com/api-v1.0/SafeUnsafeImageWithTags');
                    // xhr.setRequestHeader('content-type', 'application/json');
                    // xhr.setRequestHeader('X-RapidAPI-Key', '2d5f9283c7msh593b74279861127p1f86acjsn0b196b9397ba');
                    // xhr.setRequestHeader('X-RapidAPI-Host', 'nsfw-image-detector-or-classifier.p.rapidapi.com');

                    // xhr.send(data);

                }
              

        

                 
                        
              
      
      
      })
        


    


</script>